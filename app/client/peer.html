<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Peer page</title>
    <script src="signalingChannelFactory.js"></script>
    <script src="peer.js"></script>
    <script language="javascript" type="text/javascript">
        //Use a random number between 0 and 1000 to define a ID for this Peer
        var PEER_ID = Math.round(Math.random()*1000);
        window.addEventListener("load", function(){
            var peerIdElt = document.getElementById('peerId');
            peerIdElt.textContent = PEER_ID;
            var received = document.getElementById('received');
            initPeer(function(message){
                var newText = document.createTextNode(message);
                received.appendChild(newText);
            });
        }, false);
    </script>
</head>
<body>
    <h2>Peer number <span id=peerId></span></h2>
    <textarea id="message"></textarea>
    <button id="start">Start</button>
    <p id="received"></p>
    <button id="send">Send message</button>
</body>
</html>